import Ex "externalConst_imp"










activity A (arg: int32) returns int32
    
    const extActVarI8 = Ex.extConstI8
    
    await true
    
    let foo1 = extActVarI8 + arg

    await true

    return foo1
end

activity B (myS: S)
    
    const extActVarArr = Ex.extVarArr
    var res: int32

    if myS.s < 0.0 then run _ =  A(extConstI8)
    else 
        run res = A(2 * extConstI8)
        let foo2 = extActVarArr // activity level declared
        let foo3 = extVarArr[0] + 7 // top level
    end
end

@[EntryPoint]
activity E ()
    
    const extActVarS = Ex.extVarS

    let foo4 = extActVarS // activity defined
    let foo5 = extVarS.s // top level
    
    run B(extActVarS)
end